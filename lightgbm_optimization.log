

================================================================================
MONEYLINE MODEL - LIGHTGBM HYPERPARAMETER OPTIMIZATION (Bayesian)
================================================================================

STEP 1: Loading Training Data (2021-2024)
--------------------------------------------------------------------------------

Loading features for years: ['2021', '2022', '2023', '2024']
  Loading features2021.csv...
    [OK] Loaded 3658 games
  Loading features2022.csv...
    [OK] Loaded 4809 games
  Loading features2023.csv...
    [OK] Loaded 4988 games
  Loading features2024.csv...
    [OK] Loaded 4968 games
[OK] Combined: 18423 total games

Filtered low-quality games: removed 532, kept 17891

Filtered missing moneyline data: removed 1315, kept 16576

Created target for 16576 games
  Team 1 wins: 8056
  Team 2 wins: 8520

Training data shape: X=(16576, 364)

STEP 2: Loading Test Data (2025)
--------------------------------------------------------------------------------

Loading features for years: ['2025']
  Loading features2025.csv...
    [OK] Loaded 5012 games
[OK] Combined: 5012 total games

Filtered low-quality games: removed 18, kept 4994

Filtered missing moneyline data: removed 122, kept 4872

Created target for 4872 games
  Team 1 wins: 2440
  Team 2 wins: 2432

Test data shape: X=(4872, 364)

STEP 3: Setting Up Bayesian Optimization
--------------------------------------------------------------------------------

Hyperparameter search space configured
Running Bayesian Optimization with 300 iterations...

  50 initial random points + 250 Bayesian-guided points

Trial   1: Test=0.7161, Train=0.8650, Gap=0.1489, Score=0.6417
Trial   2: Test=0.7167, Train=0.7738, Gap=0.0571, Score=0.6882
Trial   3: Test=0.6960, Train=0.9795, Gap=0.2835, Score=0.5543
Trial   4: Test=0.6819, Train=0.8798, Gap=0.1980, Score=0.5829
Trial   5: Test=0.6962, Train=0.9887, Gap=0.2925, Score=0.5500
Trial   6: Test=0.7192, Train=0.7662, Gap=0.0470, Score=0.6957
Trial   7: Test=0.7190, Train=0.8053, Gap=0.0863, Score=0.6759
Trial   8: Test=0.6964, Train=0.8460, Gap=0.1496, Score=0.6217
Trial   9: Test=0.7118, Train=0.9353, Gap=0.2235, Score=0.6001
Trial  10: Test=0.7083, Train=0.9976, Gap=0.2893, Score=0.5637
Trial  11: Test=0.7141, Train=0.8115, Gap=0.0975, Score=0.6654
Trial  12: Test=0.7065, Train=0.9999, Gap=0.2935, Score=0.5598
Trial  13: Test=0.7018, Train=0.9736, Gap=0.2718, Score=0.5659
Trial  14: Test=0.6966, Train=0.9900, Gap=0.2934, Score=0.5499
Trial  15: Test=0.7184, Train=0.8156, Gap=0.0972, Score=0.6698
Trial  16: Test=0.7098, Train=0.9398, Gap=0.2300, Score=0.5948
Trial  17: Test=0.7180, Train=0.8578, Gap=0.1398, Score=0.6481
Trial  18: Test=0.7178, Train=0.7807, Gap=0.0629, Score=0.6863
Trial  19: Test=0.7159, Train=0.8223, Gap=0.1063, Score=0.6628
Trial  20: Test=0.7190, Train=0.7758, Gap=0.0568, Score=0.6906
Trial  21: Test=0.7009, Train=0.9105, Gap=0.2095, Score=0.5962
Trial  22: Test=0.7172, Train=0.7787, Gap=0.0615, Score=0.6864
Trial  23: Test=0.7044, Train=0.9367, Gap=0.2322, Score=0.5883
Trial  24: Test=0.7073, Train=0.9386, Gap=0.2313, Score=0.5917
Trial  25: Test=0.7126, Train=0.9077, Gap=0.1951, Score=0.6151
Trial  26: Test=0.7141, Train=0.9260, Gap=0.2119, Score=0.6081
Trial  27: Test=0.6977, Train=0.9573, Gap=0.2597, Score=0.5678
Trial  28: Test=0.6981, Train=1.0000, Gap=0.3019, Score=0.5471
Trial  29: Test=0.7030, Train=0.9996, Gap=0.2966, Score=0.5547
Trial  30: Test=0.7098, Train=0.9768, Gap=0.2671, Score=0.5762
Trial  31: Test=0.7098, Train=0.8982, Gap=0.1884, Score=0.6156
Trial  32: Test=0.7022, Train=0.9573, Gap=0.2551, Score=0.5746
Trial  33: Test=0.7065, Train=0.8900, Gap=0.1835, Score=0.6147
Trial  34: Test=0.6946, Train=0.9688, Gap=0.2742, Score=0.5575
Trial  35: Test=0.6780, Train=0.8897, Gap=0.2117, Score=0.5721
Trial  36: Test=0.7067, Train=0.9055, Gap=0.1988, Score=0.6073
Trial  37: Test=0.7098, Train=0.8445, Gap=0.1347, Score=0.6424
Trial  38: Test=0.7077, Train=0.8915, Gap=0.1838, Score=0.6158
Trial  39: Test=0.6989, Train=0.8769, Gap=0.1780, Score=0.6099
Trial  40: Test=0.7209, Train=0.7390, Gap=0.0182, Score=0.7118
Trial  41: Test=0.7190, Train=0.8120, Gap=0.0930, Score=0.6725
Trial  42: Test=0.6913, Train=1.0000, Gap=0.3087, Score=0.5369
Trial  43: Test=0.6958, Train=0.9797, Gap=0.2839, Score=0.5539
Trial  44: Test=0.6931, Train=0.9373, Gap=0.2442, Score=0.5711
Trial  45: Test=0.7116, Train=0.8830, Gap=0.1714, Score=0.6259
Trial  46: Test=0.7194, Train=0.8272, Gap=0.1077, Score=0.6655
Trial  47: Test=0.7001, Train=0.9923, Gap=0.2922, Score=0.5540
Trial  48: Test=0.7186, Train=0.8235, Gap=0.1049, Score=0.6661
Trial  49: Test=0.7209, Train=0.8495, Gap=0.1287, Score=0.6565
Trial  50: Test=0.7198, Train=0.8147, Gap=0.0948, Score=0.6724
Trial  51: Test=0.7190, Train=0.7241, Gap=0.0051, Score=0.7165
Trial  52: Test=0.7211, Train=0.7246, Gap=0.0035, Score=0.7193
Trial  53: Test=0.7200, Train=0.7265, Gap=0.0064, Score=0.7168
Trial  54: Test=0.7206, Train=0.7314, Gap=0.0108, Score=0.7153
Trial  55: Test=0.7186, Train=0.7216, Gap=0.0030, Score=0.7171
Trial  56: Test=0.7206, Train=0.7268, Gap=0.0062, Score=0.7176
Trial  57: Test=0.7206, Train=0.7305, Gap=0.0098, Score=0.7157
Trial  58: Test=0.7192, Train=0.7216, Gap=0.0024, Score=0.7180
Trial  59: Test=0.7188, Train=0.7359, Gap=0.0171, Score=0.7103
Trial  60: Test=0.7192, Train=0.7221, Gap=0.0029, Score=0.7178
Trial  61: Test=0.7198, Train=0.7248, Gap=0.0050, Score=0.7173
Trial  62: Test=0.7229, Train=0.7274, Gap=0.0045, Score=0.7206
Trial  63: Test=0.7196, Train=0.7253, Gap=0.0056, Score=0.7168
Trial  64: Test=0.7219, Train=0.7346, Gap=0.0127, Score=0.7155
Trial  65: Test=0.7190, Train=0.7347, Gap=0.0157, Score=0.7111
Trial  66: Test=0.7213, Train=0.7257, Gap=0.0044, Score=0.7191
Trial  67: Test=0.7194, Train=0.7233, Gap=0.0039, Score=0.7175
Trial  68: Test=0.7217, Train=0.7273, Gap=0.0056, Score=0.7189
Trial  69: Test=0.7198, Train=0.7441, Gap=0.0243, Score=0.7077
Trial  70: Test=0.7165, Train=0.7277, Gap=0.0111, Score=0.7110
Trial  71: Test=0.7186, Train=0.7279, Gap=0.0093, Score=0.7139
Trial  72: Test=0.7209, Train=0.7294, Gap=0.0086, Score=0.7166
Trial  73: Test=0.7231, Train=0.7283, Gap=0.0052, Score=0.7205
Trial  74: Test=0.7223, Train=0.7283, Gap=0.0060, Score=0.7193
Trial  75: Test=0.7217, Train=0.7312, Gap=0.0095, Score=0.7169
Trial  76: Test=0.7157, Train=0.8313, Gap=0.1156, Score=0.6579
Trial  77: Test=0.7206, Train=0.7299, Gap=0.0092, Score=0.7160
Trial  78: Test=0.7188, Train=0.7388, Gap=0.0200, Score=0.7088
Trial  79: Test=0.7184, Train=0.7630, Gap=0.0446, Score=0.6961
Trial  80: Test=0.7215, Train=0.7246, Gap=0.0031, Score=0.7199
Trial  81: Test=0.7190, Train=0.7414, Gap=0.0224, Score=0.7078
Trial  82: Test=0.7194, Train=0.7468, Gap=0.0274, Score=0.7057
Trial  83: Test=0.7190, Train=0.7222, Gap=0.0032, Score=0.7174
Trial  84: Test=0.7178, Train=0.7513, Gap=0.0335, Score=0.7010
Trial  85: Test=0.7217, Train=0.7289, Gap=0.0073, Score=0.7180
Trial  86: Test=0.7202, Train=0.7335, Gap=0.0132, Score=0.7136
Trial  87: Test=0.7204, Train=0.7265, Gap=0.0060, Score=0.7174
Trial  88: Test=0.7170, Train=0.7388, Gap=0.0218, Score=0.7060
Trial  89: Test=0.7202, Train=0.7264, Gap=0.0062, Score=0.7172
Trial  90: Test=0.7194, Train=0.7270, Gap=0.0076, Score=0.7156
Trial  91: Test=0.7198, Train=0.7549, Gap=0.0351, Score=0.7023
Trial  92: Test=0.7231, Train=0.7422, Gap=0.0190, Score=0.7136
Trial  93: Test=0.7225, Train=0.7465, Gap=0.0240, Score=0.7105
Trial  94: Test=0.7241, Train=0.7422, Gap=0.0181, Score=0.7151
Trial  95: Test=0.7192, Train=0.7640, Gap=0.0448, Score=0.6968
Trial  96: Test=0.7174, Train=0.7359, Gap=0.0185, Score=0.7081
Trial  97: Test=0.7186, Train=0.7289, Gap=0.0103, Score=0.7135
Trial  98: Test=0.7190, Train=0.7242, Gap=0.0052, Score=0.7164
Trial  99: Test=0.7194, Train=0.7960, Gap=0.0766, Score=0.6811
Trial 100: Test=0.7198, Train=0.7248, Gap=0.0050, Score=0.7173
Trial 101: Test=0.7213, Train=0.7526, Gap=0.0313, Score=0.7056
Trial 102: Test=0.7182, Train=0.7431, Gap=0.0249, Score=0.7057
Trial 103: Test=0.7182, Train=0.7756, Gap=0.0575, Score=0.6895
Trial 104: Test=0.7198, Train=0.7345, Gap=0.0147, Score=0.7125
Trial 105: Test=0.7192, Train=0.7539, Gap=0.0347, Score=0.7019
Trial 106: Test=0.7227, Train=0.7575, Gap=0.0348, Score=0.7053
Trial 107: Test=0.7163, Train=0.7580, Gap=0.0416, Score=0.6955
Trial 108: Test=0.7198, Train=0.7265, Gap=0.0066, Score=0.7165
Trial 109: Test=0.7225, Train=0.7282, Gap=0.0057, Score=0.7196
Trial 110: Test=0.7196, Train=0.7260, Gap=0.0064, Score=0.7164
Trial 111: Test=0.7182, Train=0.7373, Gap=0.0191, Score=0.7086
Trial 112: Test=0.7196, Train=0.7282, Gap=0.0086, Score=0.7153
Trial 113: Test=0.7200, Train=0.7270, Gap=0.0070, Score=0.7165
Trial 114: Test=0.7194, Train=0.7408, Gap=0.0214, Score=0.7087
Trial 115: Test=0.7211, Train=0.7372, Gap=0.0161, Score=0.7130
Trial 116: Test=0.7178, Train=0.7534, Gap=0.0356, Score=0.7000
Trial 117: Test=0.7174, Train=0.7575, Gap=0.0401, Score=0.6973
Trial 118: Test=0.7182, Train=0.7320, Gap=0.0138, Score=0.7113
Trial 119: Test=0.7190, Train=0.7291, Gap=0.0101, Score=0.7139
Trial 120: Test=0.7174, Train=0.7262, Gap=0.0088, Score=0.7130
Trial 121: Test=0.7200, Train=0.7351, Gap=0.0151, Score=0.7125
Trial 122: Test=0.7188, Train=0.7268, Gap=0.0080, Score=0.7148
Trial 123: Test=0.7204, Train=0.7427, Gap=0.0223, Score=0.7093
Trial 124: Test=0.7198, Train=0.7555, Gap=0.0357, Score=0.7020
Trial 125: Test=0.7211, Train=0.7268, Gap=0.0057, Score=0.7182
Trial 126: Test=0.7155, Train=0.7634, Gap=0.0479, Score=0.6916
Trial 127: Test=0.7227, Train=0.7873, Gap=0.0646, Score=0.6904
Trial 128: Test=0.7157, Train=0.7624, Gap=0.0466, Score=0.6924
Trial 129: Test=0.7174, Train=0.7806, Gap=0.0632, Score=0.6858
Trial 130: Test=0.7196, Train=0.7595, Gap=0.0398, Score=0.6997
Trial 131: Test=0.7198, Train=0.7245, Gap=0.0047, Score=0.7175
Trial 132: Test=0.7194, Train=0.7247, Gap=0.0053, Score=0.7168
Trial 133: Test=0.7190, Train=0.7784, Gap=0.0594, Score=0.6893
Trial 134: Test=0.7176, Train=0.7589, Gap=0.0413, Score=0.6969
Trial 135: Test=0.7174, Train=0.7333, Gap=0.0160, Score=0.7094
Trial 136: Test=0.7194, Train=0.7218, Gap=0.0024, Score=0.7182
Trial 137: Test=0.7206, Train=0.7256, Gap=0.0050, Score=0.7182
Trial 138: Test=0.7157, Train=0.7631, Gap=0.0474, Score=0.6920
Trial 139: Test=0.7198, Train=0.7270, Gap=0.0072, Score=0.7162
Trial 140: Test=0.7182, Train=0.7338, Gap=0.0156, Score=0.7104
Trial 141: Test=0.7213, Train=0.7389, Gap=0.0176, Score=0.7124
Trial 142: Test=0.7194, Train=0.7228, Gap=0.0034, Score=0.7177
Trial 143: Test=0.7188, Train=0.7218, Gap=0.0030, Score=0.7173
Trial 144: Test=0.7241, Train=0.7429, Gap=0.0188, Score=0.7147
Trial 145: Test=0.7215, Train=0.7261, Gap=0.0046, Score=0.7191
Trial 146: Test=0.7192, Train=0.7476, Gap=0.0284, Score=0.7050
Trial 147: Test=0.7200, Train=0.7474, Gap=0.0274, Score=0.7063
Trial 148: Test=0.7192, Train=0.7215, Gap=0.0023, Score=0.7181
Trial 149: Test=0.7198, Train=0.7464, Gap=0.0266, Score=0.7066
Trial 150: Test=0.7194, Train=0.7778, Gap=0.0583, Score=0.6903
Trial 151: Test=0.7178, Train=0.7273, Gap=0.0095, Score=0.7130
Trial 152: Test=0.7145, Train=0.7768, Gap=0.0624, Score=0.6833
Trial 153: Test=0.7196, Train=0.7463, Gap=0.0267, Score=0.7063
Trial 154: Test=0.7188, Train=0.7575, Gap=0.0387, Score=0.6995
Trial 155: Test=0.7184, Train=0.7255, Gap=0.0071, Score=0.7148
Trial 156: Test=0.7217, Train=0.7299, Gap=0.0082, Score=0.7176
Trial 157: Test=0.7200, Train=0.7345, Gap=0.0145, Score=0.7128
Trial 158: Test=0.7217, Train=0.7354, Gap=0.0137, Score=0.7148
Trial 159: Test=0.7186, Train=0.7759, Gap=0.0573, Score=0.6899
Trial 160: Test=0.7196, Train=0.7230, Gap=0.0034, Score=0.7179
Trial 161: Test=0.7188, Train=0.7592, Gap=0.0404, Score=0.6986
Trial 162: Test=0.7204, Train=0.8088, Gap=0.0884, Score=0.6763
Trial 163: Test=0.7178, Train=0.7670, Gap=0.0492, Score=0.6932
Trial 164: Test=0.7194, Train=0.7222, Gap=0.0028, Score=0.7180
Trial 165: Test=0.7190, Train=0.7216, Gap=0.0026, Score=0.7177
Trial 166: Test=0.7190, Train=0.7657, Gap=0.0467, Score=0.6956
Trial 167: Test=0.7190, Train=0.7502, Gap=0.0312, Score=0.7034
Trial 168: Test=0.7190, Train=0.7730, Gap=0.0540, Score=0.6920
Trial 169: Test=0.7196, Train=0.7318, Gap=0.0122, Score=0.7135
Trial 170: Test=0.7192, Train=0.7544, Gap=0.0352, Score=0.7016
Trial 171: Test=0.7202, Train=0.7347, Gap=0.0144, Score=0.7130
Trial 172: Test=0.7165, Train=0.7700, Gap=0.0535, Score=0.6898
Trial 173: Test=0.7194, Train=0.7231, Gap=0.0037, Score=0.7176
Trial 174: Test=0.7229, Train=0.7400, Gap=0.0171, Score=0.7144
Trial 175: Test=0.7215, Train=0.7408, Gap=0.0194, Score=0.7118
Trial 176: Test=0.7188, Train=0.7231, Gap=0.0043, Score=0.7167
Trial 177: Test=0.7219, Train=0.7328, Gap=0.0109, Score=0.7164
Trial 178: Test=0.7165, Train=0.7583, Gap=0.0417, Score=0.6957
Trial 179: Test=0.7204, Train=0.7507, Gap=0.0303, Score=0.7053
Trial 180: Test=0.7192, Train=0.7246, Gap=0.0054, Score=0.7165
Trial 181: Test=0.7192, Train=0.7505, Gap=0.0313, Score=0.7036
Trial 182: Test=0.7202, Train=0.7428, Gap=0.0225, Score=0.7090
Trial 183: Test=0.7206, Train=0.7381, Gap=0.0175, Score=0.7119
Trial 184: Test=0.7178, Train=0.7633, Gap=0.0456, Score=0.6950
Trial 185: Test=0.7192, Train=0.7510, Gap=0.0318, Score=0.7033
Trial 186: Test=0.7213, Train=0.7394, Gap=0.0181, Score=0.7122
Trial 187: Test=0.6849, Train=1.0000, Gap=0.3151, Score=0.5274
Trial 188: Test=0.6968, Train=0.8541, Gap=0.1572, Score=0.6182
Trial 189: Test=0.7165, Train=0.7572, Gap=0.0407, Score=0.6962
Trial 190: Test=0.7194, Train=0.7797, Gap=0.0603, Score=0.6893
Trial 191: Test=0.7204, Train=0.7458, Gap=0.0254, Score=0.7077
Trial 192: Test=0.7194, Train=0.7250, Gap=0.0056, Score=0.7166
Trial 193: Test=0.7180, Train=0.7691, Gap=0.0511, Score=0.6924
Trial 194: Test=0.7190, Train=0.7328, Gap=0.0138, Score=0.7121
Trial 195: Test=0.7192, Train=0.7386, Gap=0.0194, Score=0.7095
Trial 196: Test=0.7221, Train=0.7320, Gap=0.0099, Score=0.7171
Trial 197: Test=0.7200, Train=0.7346, Gap=0.0145, Score=0.7128
Trial 198: Test=0.7219, Train=0.7464, Gap=0.0246, Score=0.7096
Trial 199: Test=0.7198, Train=0.7283, Gap=0.0085, Score=0.7156
Trial 200: Test=0.7170, Train=0.7560, Gap=0.0391, Score=0.6974
Trial 201: Test=0.7217, Train=0.7604, Gap=0.0387, Score=0.7023
Trial 202: Test=0.7133, Train=0.7720, Gap=0.0587, Score=0.6839
Trial 203: Test=0.7229, Train=0.7896, Gap=0.0667, Score=0.6895
Trial 204: Test=0.7198, Train=0.7507, Gap=0.0309, Score=0.7044
Trial 205: Test=0.7192, Train=0.7932, Gap=0.0740, Score=0.6822
Trial 206: Test=0.7186, Train=0.7241, Gap=0.0055, Score=0.7159
Trial 207: Test=0.7180, Train=0.7637, Gap=0.0457, Score=0.6951
Trial 208: Test=0.7182, Train=0.7305, Gap=0.0123, Score=0.7120
Trial 209: Test=0.7188, Train=0.7232, Gap=0.0044, Score=0.7166
Trial 210: Test=0.6796, Train=0.9999, Gap=0.3203, Score=0.5194
Trial 211: Test=0.7180, Train=0.7917, Gap=0.0737, Score=0.6811
Trial 212: Test=0.7184, Train=0.7887, Gap=0.0703, Score=0.6832
Trial 213: Test=0.7223, Train=0.7276, Gap=0.0053, Score=0.7196
Trial 214: Test=0.7190, Train=0.7235, Gap=0.0045, Score=0.7168
Trial 215: Test=0.7204, Train=0.7247, Gap=0.0042, Score=0.7183
Trial 216: Test=0.7227, Train=0.7430, Gap=0.0203, Score=0.7126
Trial 217: Test=0.7178, Train=0.7264, Gap=0.0086, Score=0.7135
Trial 218: Test=0.7192, Train=0.7471, Gap=0.0279, Score=0.7053
Trial 219: Test=0.7223, Train=0.7927, Gap=0.0704, Score=0.6871
Trial 220: Test=0.7202, Train=0.7261, Gap=0.0059, Score=0.7173
Trial 221: Test=0.7192, Train=0.7434, Gap=0.0242, Score=0.7071
Trial 222: Test=0.7186, Train=0.7448, Gap=0.0262, Score=0.7055
Trial 223: Test=0.7170, Train=0.8652, Gap=0.1483, Score=0.6428
Trial 224: Test=0.7190, Train=0.7402, Gap=0.0212, Score=0.7084
Trial 225: Test=0.7069, Train=0.7933, Gap=0.0864, Score=0.6637
Trial 226: Test=0.7198, Train=0.7299, Gap=0.0101, Score=0.7148
Trial 227: Test=0.7202, Train=0.8250, Gap=0.1048, Score=0.6678
Trial 228: Test=0.7186, Train=0.7325, Gap=0.0139, Score=0.7116
Trial 229: Test=0.7182, Train=0.7587, Gap=0.0406, Score=0.6979
Trial 230: Test=0.7202, Train=0.7733, Gap=0.0530, Score=0.6937
Trial 231: Test=0.7198, Train=0.7236, Gap=0.0037, Score=0.7180
Trial 232: Test=0.7200, Train=0.7243, Gap=0.0043, Score=0.7179
Trial 233: Test=0.7194, Train=0.7428, Gap=0.0234, Score=0.7077
Trial 234: Test=0.7200, Train=0.7272, Gap=0.0072, Score=0.7165
Trial 235: Test=0.7217, Train=0.7355, Gap=0.0138, Score=0.7148
Trial 236: Test=0.7202, Train=0.8159, Gap=0.0957, Score=0.6724
Trial 237: Test=0.7188, Train=0.7219, Gap=0.0031, Score=0.7173
Trial 238: Test=0.7190, Train=0.7235, Gap=0.0044, Score=0.7168
Trial 239: Test=0.7211, Train=0.7244, Gap=0.0033, Score=0.7194
Trial 240: Test=0.7192, Train=0.7217, Gap=0.0025, Score=0.7180
Trial 241: Test=0.7200, Train=0.7295, Gap=0.0095, Score=0.7153
Trial 242: Test=0.7194, Train=0.7226, Gap=0.0032, Score=0.7178
Trial 243: Test=0.7192, Train=0.7224, Gap=0.0032, Score=0.7176
Trial 244: Test=0.7213, Train=0.7245, Gap=0.0033, Score=0.7196
Trial 245: Test=0.7219, Train=0.7239, Gap=0.0021, Score=0.7209
Trial 246: Test=0.7161, Train=0.7785, Gap=0.0624, Score=0.6849
Trial 247: Test=0.7196, Train=0.7266, Gap=0.0070, Score=0.7161
Trial 248: Test=0.7184, Train=0.7253, Gap=0.0069, Score=0.7150
Trial 249: Test=0.7200, Train=0.7889, Gap=0.0688, Score=0.6856
Trial 250: Test=0.7196, Train=0.7368, Gap=0.0172, Score=0.7110
Trial 251: Test=0.7219, Train=0.7679, Gap=0.0460, Score=0.6989
Trial 252: Test=0.7194, Train=0.7449, Gap=0.0255, Score=0.7067
Trial 253: Test=0.7190, Train=0.7304, Gap=0.0114, Score=0.7133
Trial 254: Test=0.7161, Train=0.8080, Gap=0.0918, Score=0.6702
Trial 255: Test=0.7215, Train=0.7385, Gap=0.0170, Score=0.7130
Trial 256: Test=0.7223, Train=0.7633, Gap=0.0410, Score=0.7018
Trial 257: Test=0.7211, Train=0.7528, Gap=0.0318, Score=0.7052
Trial 258: Test=0.7192, Train=0.7349, Gap=0.0156, Score=0.7114
Trial 259: Test=0.7188, Train=0.7229, Gap=0.0041, Score=0.7168
Trial 260: Test=0.7192, Train=0.7280, Gap=0.0088, Score=0.7148
Trial 261: Test=0.7157, Train=0.7563, Gap=0.0406, Score=0.6954
Trial 262: Test=0.7194, Train=0.7219, Gap=0.0025, Score=0.7182
Trial 263: Test=0.7182, Train=0.7514, Gap=0.0332, Score=0.7016
Trial 264: Test=0.7213, Train=0.7305, Gap=0.0092, Score=0.7166
Trial 265: Test=0.7211, Train=0.7356, Gap=0.0146, Score=0.7138
Trial 266: Test=0.7225, Train=0.7487, Gap=0.0262, Score=0.7094
Trial 267: Test=0.7198, Train=0.7344, Gap=0.0146, Score=0.7125
Trial 268: Test=0.7182, Train=0.7785, Gap=0.0603, Score=0.6880
Trial 269: Test=0.7190, Train=0.7218, Gap=0.0028, Score=0.7176
Trial 270: Test=0.7215, Train=0.7378, Gap=0.0163, Score=0.7133
Trial 271: Test=0.7217, Train=0.7343, Gap=0.0126, Score=0.7154
Trial 272: Test=0.7178, Train=0.8126, Gap=0.0948, Score=0.6704
Trial 273: Test=0.7204, Train=0.7362, Gap=0.0157, Score=0.7126
Trial 274: Test=0.7190, Train=0.7612, Gap=0.0422, Score=0.6979
Trial 275: Test=0.7202, Train=0.7264, Gap=0.0061, Score=0.7172
Trial 276: Test=0.7206, Train=0.7651, Gap=0.0444, Score=0.6984
Trial 277: Test=0.7211, Train=0.7980, Gap=0.0770, Score=0.6826
Trial 278: Test=0.7202, Train=0.7242, Gap=0.0040, Score=0.7182
Trial 279: Test=0.7198, Train=0.7244, Gap=0.0046, Score=0.7175
Trial 280: Test=0.7198, Train=0.7234, Gap=0.0036, Score=0.7180
Trial 281: Test=0.7206, Train=0.7242, Gap=0.0036, Score=0.7189
Trial 282: Test=0.7211, Train=0.7683, Gap=0.0472, Score=0.6974
Trial 283: Test=0.7213, Train=0.8054, Gap=0.0842, Score=0.6792
Trial 284: Test=0.7198, Train=0.7237, Gap=0.0039, Score=0.7179
Trial 285: Test=0.7202, Train=0.7247, Gap=0.0044, Score=0.7180
Trial 286: Test=0.7174, Train=0.8206, Gap=0.1032, Score=0.6658
Trial 287: Test=0.7211, Train=0.7238, Gap=0.0028, Score=0.7197
Trial 288: Test=0.7151, Train=0.8009, Gap=0.0857, Score=0.6722
Trial 289: Test=0.7229, Train=0.7250, Gap=0.0021, Score=0.7218
Trial 290: Test=0.7213, Train=0.7255, Gap=0.0042, Score=0.7191
Trial 291: Test=0.7153, Train=0.7971, Gap=0.0818, Score=0.6744
Trial 292: Test=0.6708, Train=0.9882, Gap=0.3175, Score=0.5120
Trial 293: Test=0.7221, Train=0.7248, Gap=0.0027, Score=0.7207
Trial 294: Test=0.7204, Train=0.7245, Gap=0.0041, Score=0.7184
Trial 295: Test=0.7198, Train=0.7254, Gap=0.0056, Score=0.7170
Trial 296: Test=0.7215, Train=0.7242, Gap=0.0028, Score=0.7201
Trial 297: Test=0.7202, Train=0.7237, Gap=0.0035, Score=0.7185
Trial 298: Test=0.7106, Train=0.7907, Gap=0.0801, Score=0.6706
Trial 299: Test=0.7209, Train=0.7259, Gap=0.0051, Score=0.7183
Trial 300: Test=0.7211, Train=0.7770, Gap=0.0560, Score=0.6931

================================================================================
OPTIMIZATION RESULTS - BAYESIAN (LIGHTGBM)
================================================================================

Best Hyperparameters (by overall score):
  num_leaves           = 10
  learning_rate        = 0.011905546738777037
  feature_fraction     = 0.5
  bagging_fraction     = 0.6902301680678105
  min_data_in_leaf     = 100
  lambda_l1            = 5
  lambda_l2            = 5

--------------------------------------------------------------------------------
BEST MODEL STATISTICS
--------------------------------------------------------------------------------

Best Overall Score:     0.7218
  Training Accuracy:    0.7250
  Test Accuracy:        0.7229
  Overfitting Gap:      0.0021

Best Test Accuracy:     0.7241

--------------------------------------------------------------------------------
Training final model with best hyperparameters...
--------------------------------------------------------------------------------

Final Training Accuracy:  0.7250
Final Test Accuracy:      0.7229
Final Overfitting Gap:    0.0021

Top 15 Feature Importances:
   1. avg_ml_team_2                              42204.63
   2. avg_spread_pts_team_1                      36568.25
   3. avg_ml_team_1                              31496.67
   4. avg_spread_pts_team_2                      19792.03
   5. spread_ou_agreement                         5333.33
   6. draftkings_spread_pts_team_1                3137.10
   7. draftkings_ml_team_1                        1293.63
   8. fanduel_ml_team_1                            783.43
   9. draftkings_spread_pts_team_2                 782.47
  10. fanduel_ml_team_2                            415.88
  11. bovada_spread_pts_team_1                     265.00
  12. barthag_differential                         252.15
  13. tor_rate_differential                        201.67
  14. team_1_margin_closest5rank                   200.62
  15. draftkings_ml_team_2                         195.87

================================================================================
[OK] Optimization complete!
================================================================================

Traceback (most recent call last):
  File "C:\Users\crame\Documents\Sport-Website\PMSports\Cron\ncaamb\models\moneyline\optimize_lightgbm.py", line 389, in <module>
    json.dump(results, f, indent=2)
    ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\json\__init__.py", line 179, in dump
    for chunk in iterable:
                 ^^^^^^^^
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\json\encoder.py", line 433, in _iterencode
    yield from _iterencode_dict(o, _current_indent_level)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\json\encoder.py", line 407, in _iterencode_dict
    yield from chunks
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\json\encoder.py", line 407, in _iterencode_dict
    yield from chunks
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\json\encoder.py", line 440, in _iterencode
    o = _default(o)
  File "C:\Program Files\WindowsApps\PythonSoftwareFoundation.Python.3.13_3.13.2544.0_x64__qbz5n2kfra8p0\Lib\json\encoder.py", line 180, in default
    raise TypeError(f'Object of type {o.__class__.__name__} '
                    f'is not JSON serializable')
TypeError: Object of type int64 is not JSON serializable
